<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta http-equiv="Content-Security-Policy" content="default-src * data: gap: https://ssl.gstatic.com; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">
  <script src="components/loader.js"></script>
  <script src="lib/angular/angular.min.js"></script>
  <script src="lib/onsenui/js/onsenui.min.js"></script>
  <script src="lib/onsenui/js/angular-onsenui.min.js"></script>
  <script src="js/app.js"></script>
  <script src="js/memo.js"></script>

  <link rel="stylesheet" href="components/loader.css">
  <link rel="stylesheet" href="lib/onsenui/css/onsenui.css">
  <link rel="stylesheet" href="lib/onsenui/css/onsen-css-components.css">
  <link rel="stylesheet" href="css/style.css">

  <script>
//    param_obj =new new_param();
//    console.log(param_obj)
    gnearnum = 0;
    glat = 0;
    glon = 0;
    ons.bootstrap()
        .controller('AppController',function($scope,$http){
        this.load = function(page) {
         var config = { 
          params: { lat:Circuit[gnearnum].lat, 
                    lon:Circuit[gnearnum].lon,
                    units:'metric',
                    APIKEY:'2e950c461075a5b6903bdf443a8c1072'
              } 
        };
        $http.get("http://api.openweathermap.org/data/2.5/weather",config)    
          .then(successCallback, errorCallback);
            function successCallback(response){
                console.log("-----------------------");
                $scope.weather = {weather: response.data.weather[0].main,
                              description:response.data.weather[0].description,
                              gettimedt:response.data.dt,
                              gettime:new Date(response.data.dt*1000).toLocaleString(),
                              temp:response.data.main.temp,
                              pressure:response.data.main.pressure,
                              humidity:response.data.main.humidity,
                              windspeed:response.data.wind.speed,
                              winddeg:response.data.wind.deg,
                              area:response.data.name};
                console.log($scope.weather);
            }
            function errorCallback(error){
                alert('天気情報の取得に失敗しました'); 
            }
            $scope.splitter.content.load(page);
            $scope.splitter.left.close();
            $scope.sCircuitNum = gnearnum;
            $scope.sCircuitName = Circuit[gnearnum].Circuit;
            $scope.sCircuitlat = Circuit[gnearnum].lat;
            $scope.sCircuitlon = Circuit[gnearnum].lon;
            $scope.sCircuitUrl = Circuit[gnearnum].shape;
            //$scope.datetimetest =  formatDate(new Date(),'YYYY-MM-DDThh:mm:ss');
            //console.log('###############',$scope.datetimetest);
        };

        this.toggle = function() {
          $scope.splitter.left.toggle();
          $scope.titlelist = gettitleList();
          $scope.Circuitlist = gettitleCircuitNameList();
        };
        
        this.rangeChange = function(type,param) {
            set_param($scope.obj,type,param)
            console.log(get_param($scope.obj,type))
        };
        this.changeData = function(selectdata){
            console.log( selectdata );
            $scope.selectdata = selectdata;
            myNavigator.pushPage("data_load_datedata.html");
        }
        this.selectData = function(selecttime){
            console.log( $scope.selectdata,selecttime );
            $scope.selecttime = selecttime;
        }
        this.deleteDataLocal = function(del){
            console.log( del,$scope.selecttime );
            var deletebasename = $scope.selectdata+$scope.selecttime;
                localStorage.removeItem(deletebasename);
                localStorage.removeItem(deletebasename+'weather' );
                localStorage.removeItem(deletebasename+'selectEntryClass' );
                localStorage.removeItem(deletebasename+'selectSessionType' );
                localStorage.removeItem(deletebasename+'selectChassis' );
                localStorage.removeItem(deletebasename+'selectEngine' );
                localStorage.removeItem(deletebasename+'selectSparkPlugs' );
                localStorage.removeItem(deletebasename+'selectAirbox' );
                localStorage.removeItem(deletebasename+'selectAxleType' );
                localStorage.removeItem(deletebasename+'selectFrontWheels' );
                localStorage.removeItem(deletebasename+'selectRearWheels' );
                localStorage.removeItem(deletebasename+'selectFrontHubs' );
                localStorage.removeItem(deletebasename+'selectRearHubs' );
                localStorage.removeItem(deletebasename+'selectCircuitCondition' );
                localStorage.removeItem(deletebasename+'txtImpressions' );
            deletetitle($scope.selecttime);
            $scope.titlelist = gettitleList();
            $scope.Circuitlist = gettitleCircuitNameList();
            myNavigator.popPage();
        }

        this.saveloadDataLocal = function(saveload){
            console.log( saveload )
            if(saveload=='save'){
              var datetime =  (new Date()).toLocaleString();
              var savename = $scope.sCircuitName+datetime;
            //var datetime =  '20180430';
            }else{
              var datetime = $scope.selecttime;
              var savename = $scope.selectdata+datetime;
            }
            var savename_weather= savename+'weather';
            var savename_selectEntryClass= savename+'selectEntryClass';
            var savename_selectSessionType= savename+'selectSessionType';
            var savename_selectChassis= savename+'selectChassis';
            var savename_selectEngine= savename+'selectEngine';
            var savename_selectSparkPlugs= savename+'selectSparkPlugs';
            var savename_selectAirbox= savename+'selectAirbox';
            var savename_selectAxleType= savename+'selectAxleType';
            var savename_selectFrontWheels= savename+'selectFrontWheels';
            var savename_selectRearWheels= savename+'selectRearWheels';
            var savename_selectFrontHubs= savename+'selectFrontHubs';
            var savename_selectRearHubs= savename+'selectRearHubs';
            var savename_selectCircuitCondition= savename+'selectCircuitCondition';
            var savename_txtImpressions= savename+'txtImpressions';
             console.log( savename )
            if(saveload=='save'){
                console.log( $scope.obj )
                $scope.titlelist = addtitle($scope.sCircuitName,datetime,savename);
                localStorage.setItem(savename , JSON.stringify($scope.obj));
                localStorage.setItem(savename_weather , JSON.stringify($scope.weather));
                localStorage.setItem(savename_selectEntryClass , JSON.stringify($scope.selectEntryClass));
                localStorage.setItem(savename_selectSessionType , JSON.stringify($scope.selectSessionType));
                localStorage.setItem(savename_selectChassis , JSON.stringify($scope.selectChassis));
                localStorage.setItem(savename_selectEngine , JSON.stringify($scope.selectEngine));
                localStorage.setItem(savename_selectSparkPlugs , JSON.stringify($scope.selectSparkPlugs));
                localStorage.setItem(savename_selectAirbox , JSON.stringify($scope.selectAirbox));
                localStorage.setItem(savename_selectAxleType , JSON.stringify($scope.selectAxleType));
                localStorage.setItem(savename_selectFrontWheels , JSON.stringify($scope.selectFrontWheels));
                localStorage.setItem(savename_selectRearWheels , JSON.stringify($scope.selectRearWheels));
                localStorage.setItem(savename_selectFrontHubs , JSON.stringify($scope.selectFrontHubs));
                localStorage.setItem(savename_selectRearHubs , JSON.stringify($scope.selectRearHubs));
                localStorage.setItem(savename_selectCircuitCondition , JSON.stringify($scope.selectCircuitCondition));
                localStorage.setItem(savename_txtImpressions , JSON.stringify($scope.txtImpressions));
            }else if(saveload=='saveas'){
                console.log( $scope.obj )
                localStorage.setItem(savename , JSON.stringify($scope.obj));
                localStorage.setItem(savename_weather , JSON.stringify($scope.weather));
                localStorage.setItem(savename_selectEntryClass , JSON.stringify($scope.selectEntryClass));
                localStorage.setItem(savename_selectSessionType , JSON.stringify($scope.selectSessionType));
                localStorage.setItem(savename_selectChassis , JSON.stringify($scope.selectChassis));
                localStorage.setItem(savename_selectEngine , JSON.stringify($scope.selectEngine));
                localStorage.setItem(savename_selectSparkPlugs , JSON.stringify($scope.selectSparkPlugs));
                localStorage.setItem(savename_selectAirbox , JSON.stringify($scope.selectAirbox));
                localStorage.setItem(savename_selectAxleType , JSON.stringify($scope.selectAxleType));
                localStorage.setItem(savename_selectFrontWheels , JSON.stringify($scope.selectFrontWheels));
                localStorage.setItem(savename_selectRearWheels , JSON.stringify($scope.selectRearWheels));
                localStorage.setItem(savename_selectFrontHubs , JSON.stringify($scope.selectFrontHubs));
                localStorage.setItem(savename_selectRearHubs , JSON.stringify($scope.selectRearHubs));
                localStorage.setItem(savename_selectCircuitCondition , JSON.stringify($scope.selectCircuitCondition));
                localStorage.setItem(savename_txtImpressions , JSON.stringify($scope.txtImpressions));
            }else{
                $scope.obj = JSON.parse( localStorage.getItem(savename));
                $scope.weather = JSON.parse( localStorage.getItem(savename_selectEntryClass));
                $scope.selectEntryClass = JSON.parse( localStorage.getItem(savename_selectEntryClass));
                $scope.selectSessionType = JSON.parse( localStorage.getItem(savename_selectSessionType));
                $scope.selectChassis = JSON.parse( localStorage.getItem(savename_selectChassis));
                $scope.selectEngine = JSON.parse( localStorage.getItem(savename_selectEngine));
                $scope.selectSparkPlugs = JSON.parse( localStorage.getItem(savename_selectSparkPlugs));
                $scope.selectAirbox = JSON.parse( localStorage.getItem(savename_selectAirbox));
                $scope.selectAxleType = JSON.parse( localStorage.getItem(savename_selectAxleType));
                $scope.selectFrontWheels = JSON.parse( localStorage.getItem(savename_selectFrontWheels));
                $scope.selectRearWheels = JSON.parse( localStorage.getItem(savename_selectRearWheels));
                $scope.selectFrontHubs = JSON.parse( localStorage.getItem(savename_selectFrontHubs));
                $scope.selectRearHubs = JSON.parse( localStorage.getItem(savename_selectRearHubs));
                $scope.selectCircuitCondition = JSON.parse( localStorage.getItem(savename_selectCircuitCondition));
                $scope.txtImpressions = JSON.parse( localStorage.getItem(savename_txtImpressions));
                console.log( $scope.obj )
            }
        };
        
        this.selectChange = function(type,item){
            switch( type ) {
                case 'EntryClass':
                $scope.selectEntryClass = item;
                console.log(type,$scope.selectEntryClass)
                break;
                case 'SessionType':
                $scope.selectSessionType = item;
                console.log(type,$scope.selectSessionType)
                break;
                case 'Chassi':
                $scope.selectChassis = item;
                console.log(type,$scope.selectChassis)
                break;
                case 'Engine':
                $scope.selectEngine = item;
                console.log(type,$scope.selectEngine)
                break;
                case 'SparkPlugs':
                $scope.selectSparkPlugs = item;
                console.log(type,$scope.selectSparkPlugs)
                break;
                case 'Airbox':
                $scope.selectAirbox = item;
                console.log(type,$scope.selectAirbox)
                break;
                case 'AxleType':
                $scope.selectAxleType = item;
                console.log(type,$scope.selectAxleType)
                break;
                case 'FrontWheels':
                $scope.selectFrontWheels = item;
                console.log(type,$scope.selectFrontWheels)
                break;
                case 'RearWheels':
                $scope.selectRearWheels = item;
                console.log(type,$scope.selectRearWheels)
                break;
                case 'FrontHubs':
                $scope.selectFrontHubs = item;
                console.log(type,$scope.selectFrontHubs)
                break;
                case 'RearHubs':
                $scope.selectRearHubs = item;
                console.log(type,$scope.selectRearHubs)
                break;
                case 'CircuitCondition':
                $scope.selectCircuitCondition = item;
                console.log(type,$scope.selectCircuitCondition)
                break;
            }
        }

        this.onClick = function() {
          var Impressions1 = document.getElementById("Impressions1");
          $scope.txtImpressions =Impressions1.value;
          console.log('onClickText',Impressions1.value,$scope.txtImpressions);
        }

        $scope.obj = [ {"id":"0","type":"PlugGap", "param":"100"}, {"id":"1","type":"ExhaustJoint", "param":"60"},
                     {"id":"2","type":"FrontSprocket", "param":"10"},{"id":"3","type":"RearSprocket", "param":"80"},
                     {"id":"4","type":"FrontColdAirPressure", "param":"60"},{"id":"5","type":"RearColdAirPressure", "param":"60"},
                     {"id":"6","type":"FrontHotAirPressure", "param":"70"},{"id":"7","type":"RearHotAirPressure", "param":"70"},
                     {"id":"8","type":"FrontTread", "param":"10"},{"id":"9","type":"RearTread", "param":"140"},
                     {"id":"10","type":"HandlingFeeling", "param":"80"},{"id":"11","type":"EngineFeeling", "param":"80"},
                     {"id":"12","type":"CarburetorLow", "param":"120"},{"id":"13","type":"CarburetorHi", "param":"20"},
                     {"id":"14","type":"EngineNo", "param":"1"}
                     ];
        $scope.EntryClassData = ["キッズ","コマー","カデット","ジュニア","ローカルSS","ヤマハSS","スーパーSS","その他"];
        $scope.selectEntryClass = null;
        $scope.SessionTypeData = ["練習","公式練習","タイムトライアル","レース","選手権公式練習","選手権タイムトライアル","選手権レース"];
        $scope.selectSessionType = null;
        $scope.ChassisData = ["Wildkart","Xenon","OTK","Birel","Energy","CROCPROMOTION","CRG","AMIGAO","REON","その他"];
        $scope.selectChassis = null;
        $scope.EngineData = ["EC04","Comer","MZ200","EX21","KX21","GX160","GX200","GX270","KT100SEC","KT100SD","X30","MicroMAX","MiniMAX","MAX","その他"];
        $scope.selectEngine = null;
        $scope.SparkPlugsData = ["R7435-8","R7435-9","R7435-10","R4304A-8","R4304A-9","R4304A-10","B8EGV","B9EGV","B10EGV",
        "BPR8EIX","BPR9EIX","BPR10EIX","BR8EIX","BR9EIX","BR10EIX","IRITOP9","B9EG","R4118S-8","R4118S-9",
        "IW24","IW27","IW29","IW31","IW32","IW34","IW01-27","IW01-29","IW01-31","IW01-32","その他"];
        $scope.selectSparkPlugs = null;
        $scope.AirboxData = ["KG SOCOREM","KG NITRO","KG APE-2","RR ASR-Paper","RR ASR-Sponge","RR ACTIVE","FL CIK10/18","その他"];
        $scope.selectAirbox = null;
        $scope.AxleTypeData = ["E","U","Q","N","H","HD","HH"];
        $scope.selectAxleType = null;
        $scope.FrontWheelsData = ["MXP","MXJ","MXC","MXL","KK","DWT","FREE LINE","その他"];
        $scope.selectFrontWheels = null;
        $scope.RearWheelsData = ["MXP","MXJ","MXC","MXL","KK","DWT","FREE LINE","その他"];
        $scope.selectRearWheels = null;
        $scope.FrontHubsData = ["Nomal","Option","TripleK","その他"];
        $scope.selectFrontHubs = null;
        $scope.RearHubsData = ["Nomal","Option","TripleK","その他"];
        $scope.selectRearHubs = null;
        $scope.CircuitConditionData = ["Dry","Wet","HardWet","SemiWet","Rubber","Dusty","その他"];
        $scope.selectCircuitCondition = null;
      });

    // device APIs are available
    //
    document.addEventListener("deviceready", onDeviceReady, false);
    function onDeviceReady() {
        Circuit = [ {"Circuit":"Honjo","shape":"circuitimage/Honjo.gif", "lat":"36.1708810", "lon":"139.1088930"},
                    {"Circuit":"CircuitAkigase","shape":"circuitimage/CircuitAkigase.gif", "lat":"35.8603361", "lon":"139.5921962"},
                    {"Circuit":"NewTokyoCircuit","shape":"circuitimage/NewTokyoCircuit.gif", "lat":"35.4556534", "lon":"140.0914747"},
                    {"Circuit":"OoiMazda","shape":"circuitimage/OoiMazda.gif", "lat":"35.3367078", "lon":"139.1923430"}
                         ];
        console.log("onDeviceReady!");
        navigator.geolocation.getCurrentPosition(onSuccess, onError);
    }

    // onSuccess Geolocation
    //
    function onSuccess(position) {
        //console.log('^^^^^^^^^^^onSuccess Geolocation^^^^^^^^',position.coords.latitude,position.coords.longitude);
        gnearnum =  getNearCircuit(position.coords.latitude,position.coords.longitude,Circuit)
        var d = getDistance(position.coords.latitude,position.coords.longitude,Circuit[gnearnum].lat,Circuit[gnearnum].lon)
        gCircuit = Circuit[gnearnum].Circuit
        glat = position.coords.latitude
        glon = position.coords.longitude
        console.log(gCircuit);
        glatlontimestamp = new Date(position.timestamp).toLocaleString() 
        // alert('Latitude: '      + position.coords.latitude          + '\n' +
        //   'Longitude: '         + position.coords.longitude         + '\n' +
        //   'Altitude: '          + position.coords.altitude          + '\n' +
        //   'Accuracy: '          + position.coords.accuracy          + '\n' +
        //   'Altitude Accuracy: ' + position.coords.altitudeAccuracy  + '\n' +
        //   'Heading: '           + position.coords.heading           + '\n' +
        //   'Speed: '             + position.coords.speed             + '\n' +
        //   'Near Circuit : '           + Circuit[gnearnum].Circuit             + '\n' +
        //   'Near Circuit  unit: '    + d.distance_unit         + '\n' +
        //   'Circuit num: '    + Circuit.length         + '\n' +
        //   'neari: '    + gnearnum         + '\n' +
        //   'Timestamp: '         + position.timestamp                + '\n' +
        //   'Timestamp: '         + timestamp              + '\n');
    }

    // onError Callback receives a PositionError object
    //
    function onError(error) {
        alert('code: '    + error.code    + '\n' +
              'message: ' + error.message + '\n');
    }

    ons.ready(function() {
        console.log("Onsen UI is ready!");
        //navigator.geolocation.getCurrentPosition(onSuccess, onError);
    });
  </script>
</head>
<body>

  <ons-splitter ng-controller="AppController as app" var="splitter">
    <ons-splitter-side side="left" width="220px" collapse swipeable>
      <ons-page>
        <ons-list>
          <ons-list-item ng-click="app.load('home.html')" tappable>
            スポンサーサイト
          </ons-list-item>
          <ons-list-item ng-click="app.load('settings_base.html')" tappable>
            Settings base
          </ons-list-item>
          <ons-list-item ng-click="app.load('settings_setting.html')" tappable>
            Settings setting
          </ons-list-item>
          <ons-list-item ng-click="app.load('settings_view.html')" tappable>
            Settings view
          </ons-list-item>
          <ons-list-item ng-click="app.load('data_save_Circuitlist.html')" tappable>
            データの保存と更新
          </ons-list-item>
          <ons-list-item ng-click="app.load('data_load_Circuitlist.html')" tappable>
            データの読み出しと削除
          </ons-list-item>
          <ons-list-item ng-click="app.load('speedhive.html')" tappable>
            MYLAPS speedhive
          </ons-list-item>
        </ons-list>
      </ons-page>
    </ons-splitter-side>
    <ons-splitter-content page="home.html"></ons-splitter-content>
  </ons-splitter>

  <template id="home.html">
    <ons-page>
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button ng-click="app.toggle()">
            <ons-icon icon="md-menu"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="center">
          スポンサーサイト
        </div>
      </ons-toolbar>
        <iframe width="100%" height="100%" src="https://www.astyle.co.jp/" scrolling="auto"></iframe>
    </ons-page>
  </template>
  <ons-template id="settings_base.html">
    <ons-page ng-init="NearCircuit = gCircuit ;">
        <ons-toolbar>
          <div class="left">
            <ons-toolbar-button ng-click="app.toggle()">
                <ons-icon icon="md-menu"></ons-icon>
            </ons-toolbar-button>
          </div>
          <div class="center">
            ベースセッティング
             <div id="message"></div>
          </div>
        </ons-toolbar>
<!--        SettingTime : <input type="datetime-local" name="datetime-local"  step="1" value="datetimetest for datetimetest in datetimetest">&nbsp;
          <input type="button" value="SetTime" onclick="setValue('datetime-local');"><br>
-->
        EntryClass : <select ng-model="selectEntryClass" ng-options="EntryClass for EntryClass in EntryClassData" ng-change="app.selectChange('EntryClass',selectEntryClass)">
            <option value="">選択してください</option>&nbsp;
        </select><br>
        Session : <select ng-model="selectSessionType" ng-options="SessionType for SessionType in SessionTypeData" ng-change="app.selectChange('SessionType',selectSessionType)">
            <option value="">選択してください</option>&nbsp;
        </select><br>
        Chassi : <select ng-model="selectChassis" ng-options="Chassis for Chassis in ChassisData" ng-change="app.selectChange('Chassi',selectChassis)">
            <option value="">選択してください</option>&nbsp;
        </select><br>
        Engine : <select ng-model="selectEngine" ng-options="Engine for Engine in EngineData" ng-change="app.selectChange('Engine',selectEngine)">
            <option value="">選択してください</option>&nbsp;
        </select><br>
        Near Circuit : {{sCircuitName}}&nbsp;
         <p><img src={{sCircuitUrl}}  alt="circuitimage" width="100%"></p>
        DriverNote : <ons-input modifier="material"  id="Impressions1" value={{txtImpressions}}></ons-input>
         <ons-button modifier="outline" ng-click="app.onClick()">Set</ons-button>
    </ons-page>
  </ons-template>

  <ons-template id="settings_setting.html">
    <ons-page ng-init="PlugGap = obj[0].param ;ExhaustJoint = obj[1].param ;
                    FrontSprocket = obj[2].param ;RearSprocket = obj[3].param ;
                    FrontColdAirPressure = obj[4].param ;RearColdAirPressure = obj[5].param ;
                    FrontHotAirPressure = obj[6].param ;RearHotAirPressure = obj[7].param ;
                    FrontTread = obj[8].param ;RearTread = obj[9].param ;
                    HandlingFeeling = obj[10].param; EngineFeeling = obj[11].param;
                    CarburetorLow = obj[12].param ;CarburetorHi = obj[13].param ; 
                    EngineNo = obj[14].param ; ">
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button ng-click="app.toggle()">
            <ons-icon icon="md-menu"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="center">
          Settings memo
        </div>
      </ons-toolbar>
      <p style="text-align: center; opacity: 0.6; padding-top: 0px;">
        <div id="info">
        <ons-row>
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="ion-arrow-resize"></ons-icon>
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">PlugGap</ons-col>
          <ons-col>
            <ons-range style="width: 100%;" min="50" max="120" ng-model="PlugGap" ng-change="app.rangeChange('PlugGap',PlugGap)"></ons-range>
          </ons-col>
          <ons-col width="40px" style="text-align: center; line-height: 31px;">{{PlugGap}}
          </ons-col>
        </ons-row>
        <ons-row style="margin-top: 10px;">
        <ons-row>
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="ion-android-phone-landscape"></ons-icon>
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">ExhaustJoint</ons-col>
          <ons-col>
            <ons-range style="width: 100%;" min="40" max="180" ng-model="ExhaustJoint" ng-change="app.rangeChange('ExhaustJoint',ExhaustJoint)"></ons-range>
          </ons-col>
          <ons-col width="40px" style="text-align: center; line-height: 31px;">{{ExhaustJoint}}
          </ons-col>
        </ons-row>
        <ons-row style="margin-top: 10px;">
        <ons-row>
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="ion-ios-clock-outline"></ons-icon>
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">CarburetorLow</ons-col>
          <ons-col>
            <ons-range style="width: 100%;" min="0" max="180" ng-model="CarburetorLow" ng-change="app.rangeChange('CarburetorLow',CarburetorLow)"></ons-range>
          </ons-col>
          <ons-col width="40px" style="text-align: center; line-height: 31px;">{{CarburetorLow}}
          </ons-col>
        </ons-row>
        <ons-row style="margin-top: 10px;">
        <ons-row>
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="ion-ios-clock"></ons-icon>
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">CarburetorHi</ons-col>
          <ons-col>
            <ons-range style="width: 100%;" min="0" max="60" ng-model="CarburetorHi" ng-change="app.rangeChange('CarburetorHi',CarburetorHi)"></ons-range>
          </ons-col>
          <ons-col width="40px" style="text-align: center; line-height: 31px;">{{CarburetorHi}}
          </ons-col>
        </ons-row>
        <ons-row style="margin-top: 10px;">
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="ion-ios-gear-outline"></ons-icon> 
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">FrontSprocket</ons-col>
          <ons-col style="text-align: center; line-height: 31px;">
            <ons-range style="width: 100%;" min="7" max="25" ng-model="FrontSprocket" ng-change="app.rangeChange('FrontSprocket',FrontSprocket)"></ons-range>
          </ons-col>
          <ons-col width="40px" style="text-align: center; line-height: 31px;">{{FrontSprocket}}
          </ons-col>
        </ons-row>
        <ons-row style="margin-top: 10px;">
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="ion-ios-gear"></ons-icon>
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">RearSprocket</ons-col>
          <ons-col>
            <ons-range style="width: 100%;" min="65" max="95" ng-model="RearSprocket" ng-change="app.rangeChange('RearSprocket',RearSprocket)"></ons-range>
          </ons-col>
          <ons-col width="40px" style="text-align: center; line-height: 31px;">{{RearSprocket}}
          </ons-col>
        </ons-row>
        <ons-row style="margin-top: 10px;">
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="ion-ios-speedometer-outline"></ons-icon> 
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">FrontColdAir</ons-col>
          <ons-col style="text-align: center; line-height: 31px;">
            <ons-range style="width: 100%;" min="1" max="300" ng-model="FrontColdAirPressure" ng-change="app.rangeChange('FrontColdAirPressure',FrontColdAirPressure)"></ons-range>
          </ons-col>
          <ons-col width="40px" style="text-align: center; line-height: 31px;">{{FrontColdAirPressure}}
          </ons-col>
        </ons-row>
        <ons-row style="margin-top: 10px;">
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="ion-ios-speedometer"></ons-icon>
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">RearColdAir</ons-col>
          <ons-col>
            <ons-range style="width: 100%;" min="1" max="300" ng-model="RearColdAirPressure" ng-change="app.rangeChange('RearColdAirPressure',RearColdAirPressure)"></ons-range>
          </ons-col>
          <ons-col width="40px" style="text-align: center; line-height: 31px;">{{RearColdAirPressure}}
          </ons-col>
        </ons-row>
        <ons-row style="margin-top: 10px;">
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="ion-ios-speedometer-outline"></ons-icon> 
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">FrontHotAir</ons-col>
          <ons-col style="text-align: center; line-height: 31px;">
            <ons-range style="width: 100%;" min="1" max="300" ng-model="FrontHotAirPressure" ng-change="app.rangeChange('FrontHotAirPressure',FrontHotAirPressure)"></ons-range>
          </ons-col>
          <ons-col width="40px" style="text-align: center; line-height: 31px;">{{FrontHotAirPressure}}
          </ons-col>
        </ons-row>
        <ons-row style="margin-top: 10px;">
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="ion-ios-speedometer"></ons-icon>
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">RearHotAir</ons-col>
          <ons-col>
            <ons-range style="width: 100%;" min="1" max="300" ng-model="RearHotAirPressure" ng-change="app.rangeChange('RearHotAirPressure',RearHotAirPressure)"></ons-range>
          </ons-col>
          <ons-col width="40px" style="text-align: center; line-height: 31px;">{{RearHotAirPressure}}
          </ons-col>
        </ons-row>
        <ons-row style="margin-top: 10px;">
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="ion-ios-barcode-outline"></ons-icon> 
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">FrontTread</ons-col>
          <ons-col style="text-align: center; line-height: 31px;">
            <ons-range style="width: 100%;" min="0" max="500" ng-model="FrontTread" ng-change="app.rangeChange('FrontTread',FrontTread)"></ons-range>
          </ons-col>
          <ons-col width="40px" style="text-align: center; line-height: 31px;">{{FrontTread}}
          </ons-col>
        </ons-row>
        <ons-row style="margin-top: 10px;">
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="ion-ios-barcode"></ons-icon>
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">RearTread</ons-col>
          <ons-col>
            <ons-range style="width: 100%;" min="0" max="500" ng-model="RearTread" ng-change="app.rangeChange('RearTread',RearTread)"></ons-range>
          </ons-col>
          <ons-col width="40px" style="text-align: center; line-height: 31px;">{{RearTread}}
          </ons-col>
        </ons-row>
        <ons-row style="margin-top: 10px;">
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="ion-ios-grid-view-outline"></ons-icon>
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">EngineNo</ons-col>
          <ons-col>
            <ons-range style="width: 100%;" min="1" max="10" ng-model="EngineNo" ng-change="app.rangeChange('EngineNo',EngineNo)"></ons-range>
          </ons-col>
          <ons-col width="40px" style="text-align: center; line-height: 31px;">{{EngineNo}}
          </ons-col>
        </ons-row>
        <ons-row style="margin-top: 10px;">
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="ion-flame"></ons-icon>
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">
             SparkPlugs</ons-col>
            <select ng-model="selectSparkPlugs" ng-options="SparkPlugs for SparkPlugs in SparkPlugsData" ng-change="app.selectChange('SparkPlugs',selectSparkPlugs)">
                <option value="">選択してください</option>
            </select>
        </ons-row>
        <ons-row style="margin-top: 10px;">
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="ion-android-checkbox-outline-blank"></ons-icon>
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">
             Airbox</ons-col><select ng-model="selectAirbox" ng-options="Airbox for Airbox in AirboxData" ng-change="app.selectChange('Airbox',selectAirbox)">
                <option value="">選択してください</option>
            </select>
        </ons-row>
        <ons-row style="margin-top: 10px;">
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="ion-android-remove"></ons-icon>
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">
            AxleType</ons-col><select ng-model="selectAxleType" ng-options="AxleType for AxleType in AxleTypeData" ng-change="app.selectChange('AxleType',selectAxleType)">
                <option value="">選択してください</option>
            </select>
        </ons-row>
        <ons-row style="margin-top: 10px;">
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="ion-social-wordpress-outline"></ons-icon>
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">
            FrontWheels</ons-col><select ng-model="selectFrontWheels" ng-options="FrontWheels for FrontWheels in FrontWheelsData" ng-change="app.selectChange('FrontWheels',selectFrontWheels)">
                <option value="">選択してください</option>
            </select>
        </ons-row>
        <ons-row style="margin-top: 10px;">
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="ion-social-wordpress"></ons-icon>
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">
            RearWheels</ons-col><select ng-model="selectRearWheels" ng-options="RearWheels for RearWheels in RearWheelsData" ng-change="app.selectChange('RearWheels',selectRearWheels)">
                <option value="">選択してください</option>
            </select>
        </ons-row>
        <ons-row style="margin-top: 10px;">
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="ion-social-github-outline"></ons-icon>
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">
            FrontHubs</ons-col><select ng-model="selectFrontHubs" ng-options="FrontHubs for FrontHubs in FrontHubsData" ng-change="app.selectChange('FrontHubs',selectFrontHubs)">
                <option value="">選択してください</option>
            </select>
        </ons-row>
        <ons-row style="margin-top: 10px;">
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="ion-social-github"></ons-icon>
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">
            RearHubs</ons-col><select ng-model="selectRearHubs" ng-options="RearHubs for RearHubs in RearHubsData" ng-change="app.selectChange('RearHubs',selectRearHubs)">
                <option value="">選択してください</option>
            </select>
        </ons-row>
        <ons-row style="margin-top: 10px;">
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="ion-ios-partlysunny-outline"></ons-icon>
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">
            CircuitCondition</ons-col><select ng-model="selectCircuitCondition" ng-options="CircuitCondition for CircuitCondition in CircuitConditionData" ng-change="app.selectChange('CircuitCondition',selectCircuitCondition)">
                <option value="">選択してください</option>
            </select>
        </ons-row>
        <ons-row style="margin-top: 10px;">
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="md-thumb-down"></ons-icon>
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">HandlingFeeling</ons-col>
          <ons-col>
            <ons-range style="width: 100%;" min="1" max="100" ng-model="HandlingFeeling" ng-change="app.rangeChange('HandlingFeeling',HandlingFeeling)"></ons-range>
          </ons-col>
          <ons-col width="40px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="md-thumb-up"></ons-icon>
          </ons-col>
        </ons-row>
        <ons-row style="margin-top: 10px;">
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="md-thumb-down"></ons-icon>
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">EngineFeeling</ons-col>
          <ons-col>
            <ons-range style="width: 100%;" min="1" max="100" ng-model="EngineFeeling" ng-change="app.rangeChange('EngineFeeling',EngineFeeling)"></ons-range>
          </ons-col>
          <ons-col width="40px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="md-thumb-up"></ons-icon>
          </ons-col>
        </ons-row>
        </div>
      </p>
    </ons-page>
  </ons-template>

  <ons-template id="settings_view.html">
    <ons-page ng-init="PlugGap = obj[0].param ;ExhaustJoint = obj[1].param ;
                    FrontSprocket = obj[2].param ;RearSprocket = obj[3].param ;
                    FrontColdAirPressure = obj[4].param ;RearColdAirPressure = obj[5].param ;
                    FrontHotAirPressure = obj[6].param ;RearHotAirPressure = obj[7].param ;
                    FrontTread = obj[8].param ;RearTread = obj[9].param ;
                    HandlingFeeling = obj[10].param; EngineFeeling = obj[11].param;
                    CarburetorLow = obj[12].param ;CarburetorHi = obj[13].param ; 
                    EngineNo=obj[14].param ; ">
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button ng-click="app.toggle()">
            <ons-icon icon="md-menu"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="center">
          Settings view
        </div>
      </ons-toolbar>
        <div id="info">
        <h4>&nbsp EntryClass: <span id="EntryClass">{{selectEntryClass}} &nbsp;</span>,Chassis: <span id="Chassis">{{selectChassis}} &nbsp;</span></h4>
        <h4>&nbsp Circuit: <span id="NearCircuit">{{sCircuitName}} &nbsp;</span>,Condition: <span id="CircuitCondition">{{selectCircuitCondition}} &nbsp;</span></h4>
        <h4>&nbsp Session: <span id="Session">{{selectSessionType}} &nbsp;</span></h4>
        <h4>&nbsp WeatherTime: <span id="WeatherGettime">{{weather.gettime}} &nbsp;</span></h4>
        <h4>&nbsp Weather: <span id="weather">{{weather.description}} &nbsp;</span></h4>
        <h4>&nbsp Temp: <span id="WeatherTemp">{{weather.temp}} ℃&nbsp;</span>,Pressure: <span id="WeatherPressure">{{weather.pressure}} hPa&nbsp;</span></h4>
        <h4>&nbsp Humidity: <span id="WeatherHumidity">{{weather.humidity}} ％&nbsp;</span>,Wind: <span id="WeatherWindspeed">{{weather.windspeed}} m/s&nbsp;</span></h4>
        <h4>&nbsp Engine: <span id="Engine">{{selectEngine}}&nbsp;</span>,EngineNo: <span id="EngineNo">{{EngineNo}}&nbsp;</span></h4>
        <h4>&nbsp ExhaustJoint: <span id="ExhaustJoint"> {{ExhaustJoint}}&nbsp;</span>,   Airboxes: <span id="Airboxes">{{selectAirbox}}&nbsp;</span>,   AxleType: <span id="AxleType">{{selectAxleType}}&nbsp;</span></h4>
        <h4>&nbsp SparkPlugs: <span id="SparkPlugs">{{selectSparkPlugs}} &nbsp;</span>,   PlugGap: <span id="PlugGap">{{PlugGap}}&nbsp;</span></h4>
        <h4>&nbsp CarburetorLow: <span id="CarburetorLow">{{CarburetorLow}} &nbsp;</span>,   CarburetorHi: <span id="CarburetorHi">{{CarburetorHi}}&nbsp;</span></h4>
        <h4>&nbsp FrontSprocket: <span id="FrontSprocket">{{FrontSprocket}} &nbsp;</span>,   RearSprocket: <span id="RearSprocket">{{RearSprocket}}&nbsp;</span></h4>
        <h4>&nbsp FrontWheels: <span id="FrontWheels">{{selectFrontWheels}}&nbsp;</span>, RearWheels: <span id="RearWheels">{{selectRearWheels}}&nbsp;</span></h4>
        <h4>&nbsp FrontHubs: <span id="FrontHubs">{{selectFrontHubs}}&nbsp;</span>, RearHubs: <span id="RearHubs">{{selectRearHubs}}&nbsp;</span></h4>     
        <h4>&nbsp FrontColdAir: <span id="FrontColdAirPressure">{{FrontColdAirPressure}} &nbsp;</span>,   RearColdAir: <span id="RearColdAirPressure">{{RearColdAirPressure}}&nbsp;</span></h4>
        <h4>&nbsp FrontHotAir: <span id="FrontHotAirPressure">{{FrontHotAirPressure}}&nbsp;</span>, RearHotAir: <span id="RearHotAirPressure">{{RearHotAirPressure}}&nbsp;</span></h4>
        <h4>&nbsp FrontTread: <span id="FrontTread">{{FrontTread}}&nbsp;</span>, RearTread: <span id="RearTread">{{RearTread}}&nbsp;</span></h4>
        </div>
        <ons-row style="margin-top: 10px;">
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="md-thumb-down"></ons-icon>
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">HandlingFeeling</ons-col>
          <ons-col>
            <ons-range style="width: 100%;" min="1" max="100" ng-model="HandlingFeeling" ng-change="app.rangeChange('HandlingFeeling',HandlingFeeling)"></ons-range>
          </ons-col>
          <ons-col width="40px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="md-thumb-up"></ons-icon>
          </ons-col>
        </ons-row>
        <ons-row style="margin-top: 10px;">
          <ons-col width="30px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="md-thumb-down"></ons-icon>
          </ons-col>
          <ons-col width="120px" style="text-align: left; line-height: 31px;">EngineFeeling</ons-col>
          <ons-col>
            <ons-range style="width: 100%;" min="1" max="100" ng-model="EngineFeeling" ng-change="app.rangeChange('EngineFeeling',EngineFeeling)"></ons-range>
          </ons-col>
          <ons-col width="40px" style="text-align: center; line-height: 31px;">
            <ons-icon icon="md-thumb-up"></ons-icon>
          </ons-col>
        </ons-row>
        DriverNote : <ons-input modifier="material"  id="Impressions1" value={{txtImpressions}}></ons-input>
         <ons-button modifier="outline" ng-click="app.onClick()">Set</ons-button>
    </ons-page>
  </ons-template>
  <ons-template id="data_save_Circuitlist.html" >
    <ons-page>
        <ons-toolbar>
          <div class="left">
            <ons-toolbar-button ng-click="app.toggle()">
                <ons-icon icon="md-menu"></ons-icon>
            </ons-toolbar-button>
          </div>
          <div class="center">
            データの保存と更新
             <div id="savemessage"></div>
          </div>
        </ons-toolbar>
        <ons-button ng-click="app.saveloadDataLocal('save')">
            設定内容の新規保存
        </ons-button>
        <ons-button ng-click="app.saveloadDataLocal('saveas')">
            保存済みデータの更新
        </ons-button>
    </ons-page>
  </ons-template>

   <ons-template id="data_load_Circuitlist.html" >
    <ons-page>
        <ons-navigator var="myNavigator" page="data_load_Circuitlist2.html"></ons-navigator>
    </ons-page>
  </ons-template>
  <ons-template id="data_load_Circuitlist2.html">
    <ons-page>
        <ons-toolbar>
          <div class="left">
            <ons-toolbar-button ng-click="app.toggle()">
                <ons-icon icon="md-menu"></ons-icon>
            </ons-toolbar-button>
          </div>
          <div class="center">
            データの読み出しと削除
             <div id="loadmessage"></div>
          </div>
        </ons-toolbar>
        <ons-list>
          <ons-list-header>Circuit</ons-list-header>
          <ons-list-item modifier="chevron" ng-repeat="Circuitlist in Circuitlist" ng-click="app.changeData(Circuitlist)">
            {{Circuitlist}}
          </ons-list-item>
        </ons-list>
    </ons-page>
  </ons-template>

  <ons-template id="data_load_datedata.html">
    <ons-page>
        <ons-toolbar>
          <div class="left">
            <ons-toolbar-button ng-click="app.toggle()">
                <ons-icon icon="md-menu"></ons-icon>
            </ons-toolbar-button>
          </div>
          <div class="center">
            データの読み出しと削除
             <div id="loadmessage"></div>
          </div>
        </ons-toolbar>
        <ons-button ng-click="app.saveloadDataLocal('load')">
            選択データの読み出し
        </ons-button>
        <ons-button ng-click="app.deleteDataLocal('delete')" >
            選択データの削除
        </ons-button>
        <form name="myForm">
            <ons-list class="list">
            <ons-list-header>{{selectdata}} -> date/time</ons-list-header>
            <div style="border-bottom: 1px solid #ddd;" ng-repeat="datelist in titlelist"  ng-click="app.selectData(datelist.time)">
                <ons-list-item class="list__item--tappable">
                    <label class="radio-button--list-item">
                        <input type="radio" name="Circuitid" ng-model="Circuitid" ng-value="datelist.Circuitid">
                        {{datelist.Circuitid}} {{datelist.time}}
                    </label>
                </ons-list-item>
            </div>
            </ons-list>
        </form>
    </ons-page>
  </ons-template>

  <template id="speedhive.html">
    <ons-page>
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button ng-click="app.toggle()">
            <ons-icon icon="md-menu"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="center">
            MYLAPS speedhive
        </div>
      </ons-toolbar>
        <iframe width="100%" height="100%" src="https://speedhive.mylaps.com" scrolling="auto"></iframe>
    </ons-page>
  </template>
</body>
</html>
